deptrac:
  paths:
    - ./src
  exclude_files:
    - '#.*test.*#i'
  layers:
    - name: Common
      collectors:
        - type: directory
          value: src/Common/.*
    - name: Domain
      collectors:
        - type: directory
          value: src/Domain/.*
    - name: Events
      collectors:
        - type: directory
          value: src/Events/.*
    - name: Commands
      collectors:
        - type: directory
          value: src/Commands/.*
    - name: Application
      collectors:
        - type: directory
          value: src/Application/.*
    - name: Infrastructure
      collectors:
        - type: directory
          value: src/Infrastructure/.*
  ruleset:
    Common: []
    Domain:
      - Common
      - Events
    Events:
      - Domain
      - Common
    Commands:
      - Domain
      - Common
    Application:
      - Domain
      - Events
      - Commands
      - Common
      - Infrastructure
    Infrastructure:
      - Domain
      - Events
      - Common
  skip_violations: []
  analyser:
    types:
      - class
      - class_superglobal
      - file
      - function
      - function_superglobal
